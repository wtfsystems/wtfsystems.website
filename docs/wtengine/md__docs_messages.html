<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WTEngine: Messaging and List of Built-In Commands</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WTEngine
   </div>
   <div id="projectbrief">ECS-based Game Engine in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Messaging and List of Built-In Commands </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>All in-engine communication is done with the messaging queue. Messages can be used to change game settings, control the game menus, or have entities interact with each other. Messages can also be set with a timer value to be processed later. The <b>message_manager</b> stores messages and keeps track of when they should be processed.</p>
<p>When starting a new game, a file containing messages in binary format can be passed for processing. The engine also has a command (see list below) that can be used to load additional messages. These messages have their timer values added to the current engine time when loaded.</p>
<p>A tool named <em>csv2sdf</em> is included to convert files in CSV format to be readable by the engine.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md34"></a>
Message format:</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Timer (optional)   </th><th class="markdownTableHeadNone">System   </th><th class="markdownTableHeadNone">To (optional)   </th><th class="markdownTableHeadNone">From (optional)   </th><th class="markdownTableHeadNone">Command   </th><th class="markdownTableHeadNone">Arguments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Timer value to run at (-1 for instant)   </td><td class="markdownTableBodyNone">The system to process the message   </td><td class="markdownTableBodyNone">To entity   </td><td class="markdownTableBodyNone">From entity   </td><td class="markdownTableBodyNone">Command to exectute   </td><td class="markdownTableBodyNone">Arguments for command   </td></tr>
</table>
<p>Arguments are split with a semicolon ;</p>
<hr  />
<h3><a class="anchor" id="autotoc_md36"></a>
Examples:</h3>
<p><em>Send an instant message to pause music:</em> </p><div class="fragment"><div class="line">messages.add_message(message(&quot;audio&quot;, &quot;pause_music&quot;, &quot;&quot;));</div>
</div><!-- fragment --><p> <em>Delete my_entity at timer value 100:</em> </p><div class="fragment"><div class="line">messages.add_message(message(100, &quot;spawner&quot;, &quot;delete&quot;, &quot;my_entity&quot;));</div>
</div><!-- fragment --><p> <em>Communication between entities:</em> </p><div class="fragment"><div class="line">messages.add_message(message(&quot;entities&quot;, &quot;first_entity&quot;, &quot;second_entity&quot;, &quot;command&quot;, &quot;argument;another&quot;));</div>
</div><!-- fragment --><hr  />
<h3><a class="anchor" id="autotoc_md38"></a>
Built-In Messages</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">System   </th><th class="markdownTableHeadNone">Commmand   </th><th class="markdownTableHeadNone">Arguments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Exit engine   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">exit   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Display an alert   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">alert   </td><td class="markdownTableBodyNone">(1) String of alert to display    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Start new game   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">new_game   </td><td class="markdownTableBodyNone">(1 - optional) Filename of game data    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">End current game   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">end_game   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Open menu   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">open_menu   </td><td class="markdownTableBodyNone">(1) Name of menu to open    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Close menu   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">close_menu   </td><td class="markdownTableBodyNone">Close current menu (1 - optional) "all" to close all opened menus    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Enable a system   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">enable_system   </td><td class="markdownTableBodyNone">(1) Name of system    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Disable a system   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">disable_system   </td><td class="markdownTableBodyNone">(1) Name of system    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Set engine config variable   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">set_engcfg   </td><td class="markdownTableBodyNone">(1) "var=val" Variable to set and the value    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Set game config variable   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">set_gamecfg   </td><td class="markdownTableBodyNone">(1) "var=val" Variable to set and the value    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Reconfigure the display   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">reconf_display   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Enable/disable FPS counter   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">fps_counter   </td><td class="markdownTableBodyNone">(1) "on/off"    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Load a script from file   </td><td class="markdownTableBodyNone">system   </td><td class="markdownTableBodyNone">load_script   </td><td class="markdownTableBodyNone">(1) Filename of script    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Control music looping   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">music_loop   </td><td class="markdownTableBodyNone">(1) "enable/disable"    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Play music   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">play_music   </td><td class="markdownTableBodyNone">(1) Filename to play    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Stop music   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">stop_music   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Pause music   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">pause_music   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Unpause music   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">unpause_music   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Load a sample   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">load_sample   </td><td class="markdownTableBodyNone">(1) Filename of sample    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Unload a sample   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">unload_sample   </td><td class="markdownTableBodyNone">(1) Sample name or "all" to unload all    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Play a sample   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">play_sample   </td><td class="markdownTableBodyNone">(1) Sample name (2) Mode "once" or "reference name" for looping (3 - optional) Gain 0.0 - 1.0 (4 - optional) Pan -1.0 - 1.0 (5 - optional) Speed 0.00001 - 2.0 **    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Stop playing a sample   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">stop_sample   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Clear sample instances   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">clear_instances   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Play voice   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">play_voice   </td><td class="markdownTableBodyNone">(1) Filename to play    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Stop voice   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">stop_voice   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Pause voice   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">pause_voice   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Unpause voice   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">unpause_voice   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Control ambiance loop   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">ambiance_loop   </td><td class="markdownTableBodyNone">(1) "enable/disable"    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Play ambiance   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">play_ambiance   </td><td class="markdownTableBodyNone">(1) Filename to play    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Stop ambiance   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">stop_ambiance   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Pause ambiance   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">pause_ambiance   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Unpause ambiance   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">unpause_ambiance   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Set volume levels (from engine cfg variables)   </td><td class="markdownTableBodyNone">audio   </td><td class="markdownTableBodyNone">set_volume   </td><td class="markdownTableBodyNone">none    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Create a new entity   </td><td class="markdownTableBodyNone">spawner   </td><td class="markdownTableBodyNone">new   </td><td class="markdownTableBodyNone">(1) Name of entity spawn template (2 or more) Additional arguments for spawning entity    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Delete an entity   </td><td class="markdownTableBodyNone">spawner   </td><td class="markdownTableBodyNone">delete   </td><td class="markdownTableBodyNone">Name of entity to delete   </td></tr>
</table>
<p>** NOTE: When playing a sample to set the gain, pan, or speed you must list all previous arguments in order, even if you are not passing data.</p>
<p><em>Example:</em> </p><div class="fragment"><div class="line">some_sample;loop_ref;;0.4</div>
</div><!-- fragment --><p>This loads a looping sample with a pan value, but no gain or speed. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 12 2021 23:23:00 for WTEngine by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
